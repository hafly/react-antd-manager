(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1160:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return u});t(321);var n=t(322),l=t.n(n),i=t(9),r=t(10),o=t(12),d=t(11),c=t(13),s=t(0),m=t.n(s),f=t(315),p=t.n(f),v=t(96),u=(t(898),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={orderInfo:{}},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.orderId;e&&this.getData(e)}},{key:"getData",value:function(e){var a=this;v.a.ajax({url:"/order/detail",data:{orderId:e}}).then(function(e){a.setState({orderInfo:e.data}),a.renderMap(e.data)})}},{key:"renderMap",value:function(e){this.map=new p.a.Map("orderDetailMap",{}),this.map.enableScrollWheelZoom(!0),this.drawBikeRoute(e.position_list),this.drwaServiceArea(e.area),this.addMapControl()}},{key:"addMapControl",value:function(){var e=this.map;e.addControl(new p.a.NavigationControl),e.addControl(new p.a.ScaleControl)}},{key:"drawBikeRoute",value:function(e){var a=this.map;if(e.length>0){var t=e[0],n=e[e.length-1],l=new p.a.Point(t.lon,t.lat),i=new p.a.Point(n.lon,n.lat),r=new p.a.Icon("/assets/start_point.png",new p.a.Size(36,42),{imageSize:new p.a.Size(36,42),anchor:p.a.Size(36,42)}),o=new p.a.Icon("/assets/end_point.png",new p.a.Size(36,42),{imageSize:new p.a.Size(36,42),anchor:p.a.Size(36,42)}),d=new p.a.Marker(l,{icon:r}),c=new p.a.Marker(i,{icon:o});a.addOverlay(d),a.addOverlay(c);for(var s=[],m=0;m<e.length;m++){var f=e[m];s.push(new p.a.Point(f.lon,f.lat))}var v=new p.a.Polyline(s,{strokeColor:"#1869AD",strokeWeight:3,strokeOpacity:1});a.addOverlay(v),a.centerAndZoom(i,11)}}},{key:"drwaServiceArea",value:function(e){for(var a=this.map,t=[],n=0;n<e.length;n++){var l=e[n];t.push(new p.a.Point(l.lon,l.lat))}var i=new p.a.Polygon(t,{strokeColor:"#CE0000",strokeWeight:4,strokeOpacity:1,fillColor:"#ff8605",fillOpacity:.4});a.addOverlay(i)}},{key:"render",value:function(){var e=this.state.orderInfo;return m.a.createElement(l.a,null,m.a.createElement("div",{id:"orderDetailMap",className:"order-map"}),m.a.createElement("div",{className:"detail-items"},m.a.createElement("div",{className:"item-title"},"\u57fa\u7840\u4fe1\u606f"),m.a.createElement("ul",{className:"detail-form"},m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u7528\u8f66\u6a21\u5f0f"),m.a.createElement("div",{className:"detail-form-content"},1===e.mode?"\u670d\u52a1\u533a":"\u505c\u8f66\u70b9")),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u8ba2\u5355\u7f16\u53f7"),m.a.createElement("div",{className:"detail-form-content"},e.order_sn)),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u8f66\u8f86\u4fe1\u606f"),m.a.createElement("div",{className:"detail-form-content"},e.bike_sn)),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u7528\u6237\u59d3\u540d"),m.a.createElement("div",{className:"detail-form-content"},e.user_name)),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u624b\u673a\u53f7\u7801"),m.a.createElement("div",{className:"detail-form-content"},e.mobile)))),m.a.createElement("div",{className:"detail-items"},m.a.createElement("div",{className:"item-title"},"\u884c\u9a76\u8f68\u8ff9"),m.a.createElement("ul",{className:"detail-form"},m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u884c\u7a0b\u8d77\u70b9"),m.a.createElement("div",{className:"detail-form-content"},e.start_location)),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u884c\u7a0b\u7ec8\u70b9"),m.a.createElement("div",{className:"detail-form-content"},e.end_location)),m.a.createElement("li",null,m.a.createElement("div",{className:"detail-form-left"},"\u884c\u9a76\u91cc\u7a0b"),m.a.createElement("div",{className:"detail-form-content"},e.distance/1e3+"\u516c\u91cc")))))}}]),a}(m.a.Component))},898:function(e,a,t){var n=t(899);"string"===typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t(43)(n,l);n.locals&&(e.exports=n.locals)},899:function(e,a,t){(e.exports=t(42)(!1)).push([e.i,"/*\u5e38\u7528\u8272\u503c*/\n/*\u5e38\u7528\u5b57\u4f53\u5927\u5c0f*/\nul,\nli {\n  list-style: none;\n}\n.clearfix::after {\n  content: ' ';\n  clear: both;\n  display: block;\n  visibility: hidden;\n}\n.simple-page .header-top {\n  background: #1890ff;\n  color: #ffffff;\n}\n.simple-page .header-top .ant-layout-logo {\n  float: left;\n  padding-left: 0;\n  background: transparent;\n}\n.simple-page .header-top .ant-layout-logo h1 {\n  color: #ffffff;\n}\n.simple-page .header-top a {\n  color: #ffffff;\n}\n.simple-page .container {\n  padding: 24px 16px;\n}\n.detail-items {\n  margin-left: 90px;\n  padding: 25px 50px 25px 0;\n  border-bottom: 1px solid #e5e5e5;\n}\n.detail-items:last-child {\n  border-bottom: none;\n}\n.detail-items .item-title {\n  margin: 20px 0;\n  font-size: 20px;\n  color: #bebebe;\n}\n.detail-items .detail-form li {\n  margin: 20px 0;\n  line-height: 20px;\n  font-size: 15px;\n  color: #333333;\n}\n.detail-items .detail-form li::after {\n  content: ' ';\n  clear: both;\n  display: block;\n  visibility: hidden;\n}\n.detail-items .detail-form-left {\n  float: left;\n  width: 164px;\n  text-align: right;\n  color: #999999;\n}\n.detail-items .detail-form-content {\n  padding-left: 194px;\n}\n.order-map {\n  height: 450px;\n  margin: 25px -31px 0;\n}\n",""])}}]);