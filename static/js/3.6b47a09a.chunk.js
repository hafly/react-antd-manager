(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1168:function(e,t,a){"use strict";a.r(t);a(383);var n=a(385),i=a.n(n),l=(a(360),a(361)),r=a.n(l),s=(a(95),a(94)),o=a.n(s),c=(a(321),a(322)),u=a.n(c),d=(a(344),a(345)),p=a.n(d),m=(a(153),a(65)),h=a.n(m),f=a(9),y=a(10),b=a(12),w=a(11),v=a(13),E=(a(355),a(350)),O=a.n(E),g=(a(399),a(381)),k=a.n(g),S=(a(346),a(354)),j=a.n(S),x=(a(347),a(348)),V=a.n(x),C=a(0),R=a.n(C),I=a(388),M=a(387),F=a(93),L=a.n(F),q=a(96),K=a(97),N={state:{1:"\u54b8\u9c7c\u4e00\u6761",2:"\u98ce\u534e\u6d6a\u5b50",3:"\u5317\u5927\u624d\u5b50",4:"\u767e\u5ea6FE",5:"\u521b\u4e1a\u8005"},interest:{1:"\u6e38\u6cf3",2:"\u6253\u7bee\u7403",3:"\u8e22\u8db3\u7403",4:"\u8dd1\u6b65",5:"\u722c\u5c71",6:"\u9a91\u884c",7:"\u684c\u7403",8:"\u9ea6\u9738"}};a.d(t,"default",function(){return _});var D=V.a.Item,A=j.a.TextArea,P=k.a.Group,T=O.a.Option,_=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!0,dataSource:[],isVisibleModal:!1,userInfo:{}},a.selectedRow=void 0,a.params={page:1},a.formList=[{type:"Input",label:"\u7528\u6237\u540d",field:"user_name",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0",initialValue:""},{type:"Input",label:"\u7528\u6237\u624b\u673a\u53f7",field:"user_mobile",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u624b\u673a\u53f7",initialValue:""},{type:"DatePicker",label:"\u5165\u804c\u65e5\u671f",field:"user_date",placeholder:"\u8bf7\u9009\u62e9\u5165\u804c\u65e5\u671f",initialValue:null}],a.columns=[{title:"id",dataIndex:"id",width:80},{title:"\u7528\u6237\u540d",dataIndex:"userName",width:80},{title:"\u6027\u522b",dataIndex:"sex",width:80,render:function(e){return 1===e?"\u7537":"\u5973"}},{title:"\u72b6\u6001",dataIndex:"state",width:80,render:function(e){return N.state[e]}},{title:"\u7231\u597d",dataIndex:"interest",width:80,render:function(e){return N.interest[e]}},{title:"\u751f\u65e5",width:100,dataIndex:"birthday"},{title:"\u5730\u5740",width:120,dataIndex:"address"},{title:"\u65e9\u8d77\u65f6\u95f4",dataIndex:"time",width:80}],a.handleFormSubmit=function(e){a.params=e,a.params.page=1,a.requestList()},a.showModalOperate=function(e){if("add"===e)a.setState({type:e,isVisibleModal:!0,title:"\u6dfb\u52a0\u5458\u5de5"});else if("edit"===e){var t=a.selectedRow;if(!t)return void h.a.warn({title:"\u4fe1\u606f",content:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5458\u5de5\u8fdb\u884c\u64cd\u4f5c"});a.setState({type:e,isVisibleModal:!0,title:"\u7f16\u8f91\u5458\u5de5",userInfo:t})}else if("detail"===e){var n=a.selectedRow;if(!n)return void h.a.warn({title:"\u4fe1\u606f",content:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5458\u5de5\u8fdb\u884c\u64cd\u4f5c"});a.setState({type:e,isVisibleModal:!0,title:"\u5458\u5de5\u8be6\u60c5",userInfo:n})}else if("delete"===e){if(!a.selectedRow)return void h.a.warn({title:"\u4fe1\u606f",content:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5458\u5de5\u8fdb\u884c\u64cd\u4f5c"});h.a.confirm({title:"\u786e\u8ba4\u5220\u9664",content:"\u662f\u5426\u8981\u5220\u9664\u5f53\u524d\u9009\u4e2d\u7684\u5458\u5de5",onOk:function(){q.a.ajax({url:"/user/delete",data:a.selectedRow}).then(function(e){p.a.success(e.message),a.setState({isVisibleModal:!1}),a.requestList()})}})}},a.showModalOperateOk=function(){a.userForm.props.form.validateFields(function(e,t){e||q.a.ajax({url:"/user/add",data:t}).then(function(e){p.a.success(e.message),a.setState({isVisibleModal:!1}),a.requestList()})})},a.onRadioSelect=function(e){a.selectedRow=e},a}return Object(v.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.requestList()}},{key:"requestList",value:function(){var e=this;this.setState({loading:!0,dataSource:[]}),q.a.ajax({url:"/table/list",data:this.params}).then(function(t){var a=t.data;a.rows.map(function(e,t){return e.key=t}),e.setState({loading:!1,dataSource:a.rows,pagination:K.a.pagination(a,function(t){e.params.page=t,e.requestList()})})})}},{key:"render",value:function(){var e=this,t={};return"detail"===this.state.type&&(t={footer:null}),R.a.createElement(r.a,{spinning:this.state.loading},R.a.createElement(u.a,null,R.a.createElement(I.a,{formList:this.formList,formSubmit:this.handleFormSubmit})),R.a.createElement(u.a,{className:"opertate-wrap",style:{marginTop:10,borderBottom:0}},R.a.createElement(o.a,{type:"primary",icon:"plus",onClick:function(){return e.showModalOperate("add")}},"\u6dfb\u52a0\u5458\u5de5"),R.a.createElement(o.a,{type:"primary",icon:"edit",onClick:function(){return e.showModalOperate("edit")}},"\u7f16\u8f91\u5458\u5de5"),R.a.createElement(o.a,{type:"primary",onClick:function(){return e.showModalOperate("detail")}},"\u5458\u5de5\u8be6\u60c5"),R.a.createElement(o.a,{type:"primary",icon:"delete",onClick:function(){return e.showModalOperate("delete")}},"\u5220\u9664\u5458\u5de5")),R.a.createElement("div",{className:"content-wrap",style:{borderTop:0}},R.a.createElement(M.a,{type:"radio",bordered:!0,columns:this.columns,dataSource:this.state.dataSource,onSelect:this.onRadioSelect,pagination:this.state.pagination})),R.a.createElement(h.a,Object.assign({title:this.state.title,width:360,visible:this.state.isVisibleModal,onCancel:function(){e.setState({isVisibleModal:!1})},onOk:this.showModalOperateOk},t),R.a.createElement(J,{type:this.state.type,userInfo:this.state.userInfo,wrappedComponentRef:function(t){e.userForm=t}})))}}]),t}(R.a.Component),J=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(y.a)(t,[{key:"getState",value:function(e){return N.state[e]}},{key:"render",value:function(){var e=this.props.userInfo,t=this.props.type;"add"===t&&(e={});var a=this.props.form.getFieldDecorator,n={labelCol:{span:5},wrapperCol:{span:19}};return R.a.createElement(V.a,{layout:"horizontal"},R.a.createElement(D,Object.assign({label:"\u7528\u6237\u540d"},n),"detail"===t?e.userName:a("userName",{initialValue:e.userName,rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a!"}]})(R.a.createElement(j.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",autoComplete:"off"}))),R.a.createElement(D,Object.assign({label:"\u6027\u522b"},n),"detail"===t?1===e.sex?"\u7537":"\u5973":a("sex",{initialValue:e.sex||1})(R.a.createElement(P,null,R.a.createElement(k.a,{value:1},"\u7537"),R.a.createElement(k.a,{value:2},"\u5973")))),R.a.createElement(D,Object.assign({label:"\u72b6\u6001"},n),"detail"===t?this.getState(e.state):a("state",{initialValue:e.state||0})(R.a.createElement(O.a,null,R.a.createElement(T,{value:0},"\u8bf7\u9009\u62e9\u72b6\u6001"),R.a.createElement(T,{value:1},"\u54b8\u9c7c\u4e00\u6761"),R.a.createElement(T,{value:2},"\u98ce\u534e\u6d6a\u5b50"),R.a.createElement(T,{value:3},"\u5317\u5927\u624d\u5b50"),R.a.createElement(T,{value:4},"\u767e\u5ea6FE"),R.a.createElement(T,{value:5},"\u521b\u4e1a\u8005")))),R.a.createElement(D,Object.assign({label:"\u751f\u65e5"},n),"detail"===t?e.birthday:a("birthday",{initialValue:e.birthday?L()(e.birthday):null})(R.a.createElement(i.a,null))),R.a.createElement(D,Object.assign({label:"\u8054\u7cfb\u5730\u5740"},n),"detail"===t?e.address:a("address",{initialValue:e.address})(R.a.createElement(A,{rows:3,placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u5730\u5740"}))))}}]),t}(R.a.Component);J=V.a.create()(J)},387:function(e,t,a){"use strict";a.d(t,"a",function(){return p});a(365);var n=a(366),i=a.n(n),l=a(9),r=a(10),s=a(12),o=a(11),c=a(13),u=a(0),d=a.n(u),p=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={selectedRowKeys:[]},a.onRadioSelect=function(e){a.setState({selectedRowKeys:e})},a.onCheckboxChange=function(e){a.setState({selectedRowKeys:e})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=null;return"radio"===this.props.type?t={type:"radio",selectedRowKeys:this.state.selectedRowKeys,onSelect:function(t){e.onRadioSelect([t.key]),e.props.onSelect(t)}}:"checkbox"===this.props.type&&(t={type:"checkbox",selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.onCheckboxChange(t),e.props.onChange(a)}}),d.a.createElement(i.a,Object.assign({},this.props,{rowSelection:t}))}}]),t}(d.a.Component)},388:function(e,t,a){"use strict";a(95);var n=a(94),i=a.n(n),l=(a(346),a(354)),r=a.n(l),s=a(9),o=a(10),c=a(12),u=a(11),d=a(13),p=(a(383),a(385)),m=a.n(p),h=(a(355),a(350)),f=a.n(h),y=(a(347),a(348)),b=a.n(y),w=a(0),v=a.n(w),E=b.a.Item,O=f.a.Option,g=m.a.RangePicker,k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleFormSubmit=function(){var e=a.props.form.getFieldsValue();a.props.formSubmit(e)},a.reset=function(){a.props.form.resetFields()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"initFormList",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.formList,n=[];return a&&a.length>0&&a.forEach(function(a){var i=a.field,l=a.label||"",s=a.initialValue||"",o=a.width||"auto";if("Input"===a.type){var c=v.a.createElement(E,{label:l,key:i},t(i,{initialValue:s})(v.a.createElement(r.a,{type:"text",placeholder:a.placeholder,style:{width:o}})));n.push(c)}else if("Select"===a.type){var u=v.a.createElement(E,{label:l,key:i},t(i,{initialValue:s})(v.a.createElement(f.a,{placeholder:a.placeholder,style:{width:o}},e.getOptionList(a.list))));n.push(u)}else if("DatePicker"===a.type){var d=v.a.createElement(E,{label:l,key:i},t(i,{initialValue:s||null})(v.a.createElement(m.a,{placeholder:a.placeholder,style:{width:o}})));n.push(d)}else if("RangePicker"===a.type){var p=v.a.createElement(E,{label:l,key:i},t(i,{initialValue:s||null})(v.a.createElement(g,{style:{width:o}})));n.push(p)}}),n}},{key:"getOptionList",value:function(e){return e.map(function(e){return v.a.createElement(O,{value:e.id,key:e.id},e.name)})}},{key:"render",value:function(){return v.a.createElement(b.a,{layout:"inline"},this.initFormList(),v.a.createElement(E,null,v.a.createElement(i.a,{type:"primary",style:{margin:"0 20px"},onClick:this.handleFormSubmit},"\u67e5\u8be2"),v.a.createElement(i.a,{onClick:this.reset},"\u91cd\u7f6e")))}}]),t}(v.a.Component);t.a=b.a.create()(k)}}]);